import"./style.css";import*as THREE from"three";import{EffectComposer}from"three/examples/jsm/postprocessing/EffectComposer.js";import{RenderPass}from"three/examples/jsm/postprocessing/RenderPass.js";var scrollPercent=0;const STATS_ELEMENT=document.querySelector("#stats");function getScrollPercent(){var e=document.documentElement,t=document.body,r="scrollTop",s="scrollHeight";return(e[r]||t[r])/((e[s]||t[s])-e.clientHeight)*100}document.addEventListener("scroll",(e=>{scrollPercent=getScrollPercent().toFixed(2),STATS_ELEMENT.innerText="Animation Offset: "+scrollPercent}));const scene=new THREE.Scene;scene.background=null;const sizes={width:window.innerWidth,height:window.innerHeight},camera=new THREE.PerspectiveCamera(75,sizes.width/sizes.height,.1,100);camera.position.x=.8,camera.position.y=.8,camera.position.z=.8,scene.add(camera),window.addEventListener("resize",(()=>{sizes.width=window.innerWidth,sizes.height=window.innerHeight,camera.aspect=sizes.width/sizes.height,camera.updateProjectionMatrix(),renderer.setSize(sizes.width,sizes.height),renderer.setPixelRatio(Math.min(window.devicePixelRatio,2))}));const canvas=document.querySelector("#webgl"),renderer=new THREE.WebGLRenderer({canvas,alpha:!0});renderer.shadowMap.enabled=!0,renderer.shadowMap.type=THREE.PCFSoftShadowMap;const renderPass=new RenderPass(scene,camera),composer=new EffectComposer(renderer);composer.addPass(renderPass),renderer.setSize(sizes.width,sizes.height),renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),camera.lookAt(0,0,0);const geometry=new THREE.BoxGeometry,material=new THREE.MeshLambertMaterial({color:65280}),cube=new THREE.Mesh(geometry,material),light=new THREE.SpotLight(16777215,1);light.position.x=1.3,light.position.z=1,scene.add(light),scene.add(cube),console.log(scene);const clock=new THREE.Clock;var timeOfLastFrame=0;const tick=()=>{const e=clock.getElapsedTime();cube.rotateX(.01),composer.render(scene,camera),window.requestAnimationFrame(tick),timeOfLastFrame=e};tick();